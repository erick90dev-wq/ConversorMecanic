<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mec치nico Pro V2.1</title>
    <style>
        :root { --primary: #2c3e50; --accent: #e67e22; }
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: #ecf0f1; 
            padding: 20px; 
            display: flex; 
            justify-content: center; 
        }
        .card { 
            background: white; 
            width: 100%; 
            max-width: 400px; 
            padding: 25px; 
            border-radius: 15px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
            text-align: center;
        }
        h2 { color: var(--primary); border-bottom: 2px solid var(--accent); padding-bottom: 10px; }
        
        /* MEJORA DEL SELECTOR */
        select { 
            width: 100%; 
            padding: 15px; /* M치s espacio para el dedo */
            margin: 10px 0; 
            border-radius: 8px; 
            border: 2px solid #bdc3c7; 
            font-size: 1.1rem; 
            background-color: #fff;
            color: var(--primary);
            cursor: pointer;
            display: block;
            appearance: listbox; /* Fuerza la visualizaci칩n de la flecha en Android */
            -webkit-appearance: listbox;
        }

        input { 
            width: 100%; 
            padding: 12px; 
            margin: 10px 0; 
            border-radius: 8px; 
            border: 1px solid #bdc3c7; 
            font-size: 1.2rem; 
            box-sizing: border-box; 
        }

        .result-box { 
            margin-top: 20px; 
            padding: 15px; 
            background: #fdf2e9; 
            border-left: 5px solid var(--accent); 
            border-radius: 5px; 
        }
        #resultado { font-size: 1.3rem; font-weight: bold; color: var(--primary); }
        .llave-info { display: block; margin-top: 10px; color: #d35400; font-weight: bold; font-size: 1.1rem; }
    </style>
</head>
<body>

<div class="card">
    <h2>游 Mec치nico Pro</h2>
    
    <label style="display:block; text-align:left; font-weight:bold; color:#7f8c8d;">Convertir:</label>
    <select id="tipoConversion" onchange="limpiar()">
        <option value="mm_to_in">Mil칤metros a Pulgadas 游늺</option>
        <option value="in_to_mm">Pulgadas a Mil칤metros 丘뙖잺</option>
    </select>

    <input type="number" id="valorEntrada" placeholder="Introduce valor..." inputmode="decimal" oninput="calcular()">

    <div class="result-box">
        <div id="resultado">Esperando datos...</div>
    </div>
</div>

<script>
function calcular() {
    const tipo = document.getElementById('tipoConversion').value;
    const valor = parseFloat(document.getElementById('valorEntrada').value);
    const resDiv = document.getElementById('resultado');

    if (isNaN(valor) || valor <= 0) {
        resDiv.innerHTML = "Esperando datos...";
        return;
    }

    if (tipo === "mm_to_in") {
        let pulgadasDec = valor / 25.4;
        let fraccion = decAFraccion(pulgadasDec);
        resDiv.innerHTML = `Decimal: ${pulgadasDec.toFixed(4)}"<br>
        <span class="llave-info">Llave: ${fraccion}</span>`;
    } else {
        let mm = valor * 25.4;
        resDiv.innerHTML = `Resultado: ${mm.toFixed(2)} mm<br>
        <span class="llave-info">Llave: ${Math.round(mm)} mm</span>`;
    }
}

function decAFraccion(decimal) {
    const dieciseisavos = Math.round(decimal * 16);
    if (dieciseisavos === 0) return 'Muy peque침a';
    
    let num = dieciseisavos;
    let den = 16;

    const mcd = (a, b) => b ? mcd(b, a % b) : a;
    const divisor = mcd(num, den);
    num /= divisor;
    den /= divisor;

    return den === 1 ? num + '"' : num + "/" + den + '"';
}

function limpiar() {
    document.getElementById('valorEntrada').value = '';
    document.getElementById('resultado').innerHTML = 'Esperando datos...';
    document.getElementById('valorEntrada').focus();
}
</script>

</body>
</html>
